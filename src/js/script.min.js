function updateText() {
  let e = words[currentWordIndex],
    t = element.innerHTML;
  if (isDeleting)
    (element.innerHTML = e.substring(0, t.length - 1)),
      0 === t.length &&
        ((isDeleting = !1),
        (currentWordIndex = (currentWordIndex + 1) % words.length));
  else if (
    ((element.innerHTML = e.substring(0, t.length + 1)), t.length === e.length)
  )
    return (isDeleting = !0), void setTimeout(updateText, 1500);
  let o = isDeleting ? 100 : 50;
  setTimeout(updateText, o);
}
function checkHover() {
  galleryItems.forEach((e) => {
    e.addEventListener("mouseover", () => {}),
      e.addEventListener("mouseout", () => {});
  });
}
const loader = document.querySelector(".loader");
window.addEventListener("load", () => {
  loader.classList.add("fondu-out");
});
const links = document.querySelectorAll("nav li"),
  icons = document.querySelector("#icons"),
  nav = document.querySelector("#navHeader");
icons.addEventListener("click", () => {
  nav.classList.toggle("active");
}),
  links.forEach((e) => {
    e.addEventListener("click", () => {
      nav.classList.remove("active");
    });
  });
const upBtn = document.querySelector(".btnUp");
window.addEventListener("scroll", (e) => {
  window.scrollY > 300
    ? upBtn.classList.add("show")
    : upBtn.classList.remove("show");
}),
  upBtn.addEventListener("click", () => {
    window.scrollTo({ top: 0, left: 0, behavior: "smooth" });
  });
const element = document.getElementById("animated-text"),
  words = ["Enzo Di Giovanni.", "un développeur !", "un passionné !"];
let currentWordIndex = 0,
  isDeleting = !1;
setTimeout(updateText, 200);
const navLinks = document.querySelectorAll(".nav-link"),
  navHeight = document.getElementById("navHeader").offsetHeight;
navLinks.forEach((e) => {
  e.addEventListener("click", (t) => {
    t.preventDefault();
    const o = e.getAttribute("href"),
      n = document.querySelector(o);
    window.scrollTo({
      top: n.offsetTop - navHeight,
      left: 0,
      behavior: "smooth",
    }),
      console.log(n.offsetTop);
  });
});
const sections = document.querySelectorAll("section");
window.addEventListener("scroll", () => {
  sections.forEach((e) => {
    if (scrollY >= e.offsetTop - navHeight) {
      const t = document.querySelector(".nav-link.active");
      t && t.classList.remove("active");
      const o = document.querySelector(".nav-link[href='#" + e.id + "']");
      o.classList.add("active"), "aboutMe" == e.id && e.classList.add("showed");
    }
  });
});
const galleryItems = document.querySelectorAll(".gallery-item");
checkHover();
const cvBtn = document.querySelector(".cv");
cvBtn.addEventListener("mouseover", () => {
  (cvBtn.style.transform = "scale(1.2)"),
    (cvBtn.style.color = "#fff"),
    (cvBtn.style.transition = "0.5s"),
    (cvBtn.style.border = "2px solid white");
}),
  cvBtn.addEventListener("mouseout", () => {
    cvBtn.style.color = "black";
  });
const contactBtn = document.querySelector(".btn-contact");
contactBtn.addEventListener("mouseover", () => {
  (contactBtn.style.transform = "scale(1.2)"),
    (contactBtn.style.transition = "1s"),
    (contactBtn.style.color = "#fff"),
    (contactBtn.style.border = "2px solid white");
}),
  contactBtn.addEventListener("mouseout", () => {
    contactBtn.style.color = "black";
  }),
  document.querySelectorAll(".icon").forEach((e) => {
    e.addEventListener("click", async function () {
      let e = this.getAttribute("data-text-to-copy");
      try {
        await navigator.clipboard.writeText(e),
          alert("Texte copié dans le presse-papiers: " + e);
      } catch (e) {
        console.error("Erreur lors de la copie : ", e);
      }
    });
  });
const drpSchool = document.querySelector(".school"),
  arrow = document.querySelector(".fa-arrow-down");
arrow.addEventListener("click", () => {
  drpSchool.classList.toggle("openSchool"),
    (arrow.style.transform =
      "rotate(180deg)" === arrow.style.transform
        ? "rotate(0deg)"
        : "rotate(180deg)");
}),
  arrow.addEventListener("click", function () {
    drpSchool.classList.toggle("is-open"),
      drpSchool.classList.contains("is-open") || (drpSchool.scrollTop = 0);
  });
